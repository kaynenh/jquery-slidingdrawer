/*
 *  jquery-slidingdrawer - v1.1.0
 *  A jquery-enabled sliding drawer
 *  
 *
 *  Made by Kaynen Heikkinen
 *  Under MIT License
 */
Date.prototype.addHours=function(a){return this.setHours(this.getHours()+a),this},function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="slidingDrawer",g={openSpeed:"1000",drawerHeight:"320",drawerWidth:"325",title:"Subscribe",innerContent:"<p>Stay updated with our Newsletter!</p>",useLocalStorage:!0,appendDrawer:!0,showAgainAfter:2160,disable:!1},h="ontouchstart"in b||navigator.msMaxTouchPoints;a.extend(e.prototype,{init:function(){this.hasScrolled=!1,this.alreadyShown=!1;var c=new Date,d=new Date,e=this;c.setTime(localStorage.getItem("shownDate")),c.addHours(this.settings.showAgainAfter);var f=d.getTime()>c.getTime();if("shown"===localStorage.getItem("popState")&&this.settings.useLocalStorage===!0&&!f||this.settings.disable===!0)this.alreadyShown=!0;else{if(this.settings.appendDrawer&&a(this.element).after('<div id="drawer"><div class="drawer-body"><button type="button" class="close"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><h3>'+this.settings.title+"</h3>"+this.settings.innerContent+"</div></div>"),h){var g=null;a(b).on("touchmove",function(a){var b=a.originalEvent.changedTouches[0].pageY;null!=g&&b>g||null!=g&&g>b&&e.showDrawer(),g=b})}else a(b).on("mousewheel DOMMouseScroll",function(a){var b=function(){var b="DOMMouseScroll"===a.type?-40*a.originalEvent.detail:a.originalEvent.wheelDelta;return b>0?0:1}();1===b&&e.showDrawer()});a("#drawer .close").on("click",function(){a("#drawer").animate({bottom:"-"+e.settings.drawerHeight+"px"},e.settings.openSpeed,function(){})})}},yourOtherFunction:function(b){a(this.element).text(b)},showDrawer:function(){this.hasScrolled||this.alreadyShown||(a("#drawer").animate({bottom:0},this.settings.openSpeed,function(){}),this.hasScrolled=!0,localStorage.setItem("popState","shown"),localStorage.setItem("shownDate",Date.now()))}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);